import"./navbar-81GzsPed.js";function e(){const e=document.getElementById("bannerParent");if(!e)return;const t=e.querySelectorAll(".parallax-element"),n=[];t.forEach(function(e){const t=e.getAttribute("data-x-movement"),o=e.getAttribute("data-y-movement"),i=null!==t?parseFloat(t):10,s=null!==o?parseFloat(o):10;n.push(function(t){const n=t.clientX/window.innerWidth,o=t.clientY/window.innerHeight,l=(2*n-1)*i,d=(2*o-1)*s;e.style.transform=`translate(${l}px, ${d}px)`})});const o=function(e){n.forEach(function(t){t(e)})};e.addEventListener("mouseenter",function(){document.addEventListener("mousemove",o)}),e.addEventListener("mouseleave",function(){document.removeEventListener("mousemove",o)})}const t="mac_m1",n="windows_x64",o="linux",i="chrome_os",s="mobile",l="unknown",d={windows_x64:"Windows x64 Installer",mac_m1:"Mac - Apple Silicon DMG",mac_intel:"Mac - Intel DMG",linux:"Linux x64",chrome_os:"Chrome OS App"},c="https://updates.phcode.io/install.json",a="https://public-stats.phcode.io/generated/download_counts.json";let r={},u=l,m=!1;function h(){const e=window.navigator.platform.toLowerCase(),d=window.navigator.userAgent.toLowerCase();return m=function(){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(),u=m?s:d.includes("cros")?i:e.includes("win")?n:e.includes("mac")?t:e.includes("linux")?o:l,u}function p(e){console.log("updateDownloadButton called with platform:",e);const t=document.getElementById("downloadBtn"),i=document.getElementById("downloadLink"),c=document.getElementById("linuxInstruction"),a=document.getElementById("linuxMore"),u=document.getElementById("linuxCopyBtn"),m=document.getElementById("linuxCodeContainer");document.getElementById("codeSnippet");const h=document.querySelector(".download-button");if(console.log("Elements found - downloadBtn:",!!t),t)if(e===o)null==c||c.classList.remove("hidden"),null==a||a.classList.remove("hidden"),null==h||h.classList.add("linux-mode"),t.classList.add("hidden"),i.classList.add("hidden"),null==u||u.classList.remove("hidden"),null==m||m.classList.remove("hidden"),u&&(u.onclick=function(){v()}),m&&(m.onclick=function(){v()});else{null==c||c.classList.add("hidden"),null==a||a.classList.add("hidden"),null==h||h.classList.remove("linux-mode"),t.classList.remove("hidden"),null==u||u.classList.add("hidden"),null==m||m.classList.add("hidden");let o="",p="";e===s||e===l?(o=d[n],p=r[n]):(o=d[e]||"Download",p=r[e]);const v=document.getElementById("downloadLabel");console.log("Updating label - element found:",!!v,"label:",o),v?(v.textContent=o,console.log("Label updated to:",o)):console.warn("Could not find downloadLabel element to update!"),i&&p&&(i.href=p),t.onclick=function(e){e.preventDefault(),i&&p?(i.href=p,i.click()):console.warn("Download URL not available yet. Please try again in a moment.")}}else console.warn("downloadBtn not found!")}function v(){const e="wget -qO- https://updates.phcode.io/linux/installer.sh | bash";if(navigator.clipboard)navigator.clipboard.writeText(e).then(function(){w()}).catch(function(e){console.error("Failed to copy code: ",e)});else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),w()}}function w(){const e=document.getElementById("downloadBtn");if(!e)return;const t=document.createElement("span");t.className="copied",t.textContent="Copied to clipboard",e.parentElement.style.position="relative",e.parentElement.appendChild(t),setTimeout(function(){t.remove()},2e3)}function g(){h(),function(){const e=document.getElementById("dropdownToggle"),t=document.getElementById("dropdownMenu");if(!e||!t)return;e.addEventListener("click",function(e){e.stopPropagation(),t.classList.toggle("show")}),document.addEventListener("click",function(n){t.contains(n.target)||e.contains(n.target)||t.classList.remove("show")}),t.querySelectorAll(".dropdown-item:not(.disabled)").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();const n=this.getAttribute("data-platform");console.log("Dropdown item clicked, platform:",n),n&&(u=n,console.log("Calling updateDownloadButton with platform:",n),p(n),t.classList.remove("show"))})})}(),fetch(c).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(function(e){r=e["phcode.io.DownloadURL"]||{},console.log("Download URLs loaded:",r),p(u)}).catch(function(e){console.error("Failed to fetch download URLs:",e),r={windows_x64:"https://github.com/phcode-dev/phoenix-desktop/releases",mac_m1:"https://github.com/phcode-dev/phoenix-desktop/releases",mac_intel:"https://github.com/phcode-dev/phoenix-desktop/releases"},p(u)}),fetch(a).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(function(e){const t=document.getElementById("downloadCount"),n=document.getElementById("downloadCountSpan"),o=document.getElementById("downloadProofLink");t&&e.totalDownloads&&(t.textContent=e.totalDownloads.toLocaleString(),null==n||n.classList.remove("hidden"),o&&e.downloadProofLink&&(o.href=e.downloadProofLink)),console.log("Download count loaded:",e.totalDownloads)}).catch(function(e){console.log("Could not fetch download count:",e)})}window.DownloadManager={detectPlatform:h,isMobile:function(){return m}};const f=[{title:"Live Preview",subtitle:"See your HTML and CSS code changes instantly, without page reloads! Use powerful UI tools like the colour editor to tweak background and text colours, adjust font sizes and border-radius with number dials, or explore page layouts with live code hints. <a href='https://docs.phcode.dev/docs/Features/Live%20Preview/live-preview' target='blank'>Read more...</a>",titleIconSrc:"assets/images/preview_o.png",videoSrc:"https://docs-images.phcode.dev/videos/phcode.io-site/live_preview.mp4"},{title:"Code Intelligence for the Web",subtitle:"Write HTML, CSS, and JavaScript faster with on-the-fly code completion and catch errors before they become problems. We're always adding better smarts to our code intelligence, making Phoenix Code sharper with every release. <a href='https://docs.phcode.dev/docs/Features/Problems%20Panel/html-lint/' target='blank'>Read more...</a>",titleIconSrc:"assets/images/intelligence.png",videoSrc:"https://docs-images.phcode.dev/videos/phcode.io-site/error_detect.mp4"},{title:"Lightning-Fast Search",subtitle:"Find exactly what you need across your entire project with Instant search. We've fine-tuned the UX to help you pinpoint your query faster: search within specific file types, exclude files and folders, or use regular expressions for complex queries. <a href='https://docs.phcode.dev/docs/Features/find-in-files/' target='blank'>Read more...</a>",titleIconSrc:"assets/images/flash.gif",videoSrc:"https://docs-images.phcode.dev/videos/phcode.io-site/find_in_files.mp4"},{title:"Git Simplified",subtitle:"Integrated Git source control with a clean, intuitive interface. Stage changes, commit, and sync with a single click while keeping your focus on the code. <a href='https://docs.phcode.dev/docs/Features/git' target='blank'>Read more...</a>",titleIconSrc:"assets/images/git_branch_feature.svg",videoSrc:"https://docs-images.phcode.dev/videos/phcode.io-site/git_video.mp4"}];function b(){const e=document.getElementById("videoOverlaysContainer");e&&f.forEach(function(t){const n=function(e){const t=document.createElement("section");return t.className="container d-flex-center mt-5",t.id="video-overlay",t.innerHTML=`\n        <div class="row content-1 center-below-xs pt-4">\n            <div class="col-md-6 col-sm-12 col-xs-12">\n                <div class="row">\n                    <div class="col-md-12 mt-4 center-below-xs">\n                        <div class="row text-lg-left text-xl-left text-md-left text-sm-center text-xs-center mb-sm-5 mb-xs-5">\n                            <div class="row">\n                                <span class="heading col-md-12 mb-4 text-accent">\n                                    ${e.titleIconSrc?`<img style="width: 50px" class="flash-img" src="${e.titleIconSrc}" alt="icon">`:""}\n                                    ${e.title}\n                                </span>\n                                <div class="description-light col-md-10">\n                                    <div>${e.subtitle}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="col-md-6 col-sm-12 col-xs-12 mt-sm-4 mt-xs-4 text-sm-center text-xs-center text-lg-right text-xl-right text-md-right">\n                ${e.videoSrc?`\n                    <div class="video-container">\n                        <video class="feature-video" src="${e.videoSrc}" muted autoplay loop playsinline controlsList="nodownload noremoteplayback" disablePictureInPicture></video>\n                        <div class="video-controls">\n                            <button class="play-pause-btn" aria-label="Play/Pause">\n                                <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">\n                                    <path d="M8 5v14l11-7z"/>\n                                </svg>\n                                <svg class="pause-icon hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">\n                                    <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>\n                                </svg>\n                            </button>\n                            <div class="progress-bar">\n                                <div class="progress-filled"></div>\n                            </div>\n                            <button class="fullscreen-btn" aria-label="Fullscreen">\n                                <svg class="fullscreen-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">\n                                    <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>\n                                </svg>\n                                <svg class="exit-fullscreen-icon hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">\n                                    <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                `:""}\n            </div>\n        </div>\n    `,t}(t);e.appendChild(n);const o=n.querySelector(".video-container");o&&function(e){const t=e.querySelector(".feature-video"),n=e.querySelector(".play-pause-btn"),o=e.querySelector(".play-icon"),i=e.querySelector(".pause-icon"),s=e.querySelector(".progress-bar"),l=e.querySelector(".progress-filled"),d=e.querySelector(".fullscreen-btn"),c=e.querySelector(".fullscreen-icon"),a=e.querySelector(".exit-fullscreen-icon");if(t&&n){if(n.addEventListener("click",function(e){e.stopPropagation(),r()}),t.addEventListener("click",function(){r()}),t.addEventListener("dblclick",function(){d&&d.click()}),t.addEventListener("timeupdate",function(){const e=t.currentTime/t.duration*100;l.style.width=e+"%"}),s.addEventListener("click",function(e){const n=s.getBoundingClientRect(),o=(e.clientX-n.left)/n.width;t.currentTime=o*t.duration}),d){let t=function(){document.fullscreenElement===e||document.webkitFullscreenElement===e||document.mozFullScreenElement===e||document.msFullscreenElement===e?(c.classList.add("hidden"),a.classList.remove("hidden")):(c.classList.remove("hidden"),a.classList.add("hidden"))};d.addEventListener("click",function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("msfullscreenchange",t)}e.addEventListener("mouseenter",function(){e.querySelector(".video-controls").style.opacity="1"}),e.addEventListener("mouseleave",function(){e.querySelector(".video-controls").style.opacity="0"}),t.addEventListener("playing",function(){o.classList.add("hidden"),i.classList.remove("hidden")}),t.addEventListener("pause",function(){o.classList.remove("hidden"),i.classList.add("hidden")}),t.addEventListener("loadedmetadata",function(){t.autoplay&&!t.paused&&(o.classList.add("hidden"),i.classList.remove("hidden"))}),t.addEventListener("canplay",function(){t.paused||(o.classList.add("hidden"),i.classList.remove("hidden"))}),t.hasAttribute("autoplay")&&(o.classList.add("hidden"),i.classList.remove("hidden"))}function r(){t.paused?(t.play(),o.classList.add("hidden"),i.classList.remove("hidden")):(t.pause(),o.classList.remove("hidden"),i.classList.add("hidden"))}}(o)})}function y(){!function(){const e=document.getElementById("currentYear");e&&(e.textContent=(new Date).getFullYear())}(),b()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e(),g(),y()}):(e(),g(),y());
